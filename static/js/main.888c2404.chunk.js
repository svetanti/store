(this.webpackJsonpstore=this.webpackJsonpstore||[]).push([[0],{34:function(n,e,t){},41:function(n,e,t){"use strict";t.r(e);var r=t(1),c=t(0),i=t.n(c),o=t(23),a=t.n(o),u=t(19),s=(t(34),t(11)),d=t(9),l=t(2),f=t(4),b=t(3);function p(){var n=Object(l.a)(["\n  color: #666;\n  font-size: 12px;\n"]);return p=function(){return n},n}function j(){var n=Object(l.a)(["\n  margin-top: 20px;\n  width: 100%;\n  height: 250px;\n  object-fit: scale-down;\n  cursor: pointer;\n"]);return j=function(){return n},n}function h(){var n=Object(l.a)(["\n  width: 100%;\n  height: 88px;\n  display: block;\n  display: -webkit-box;\n  -webkit-line-clamp: 4;\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  margin: 0;\n"]);return h=function(){return n},n}function x(){var n=Object(l.a)(["\n  font-size: 20px;\n  margin: 10px 0;\n"]);return x=function(){return n},n}function g(){var n=Object(l.a)(["\n  width: 100%;\n  font-size: 14px;\n  margin: 0;\n  text-align: center;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n"]);return g=function(){return n},n}function O(){var n=Object(l.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]);return O=function(){return n},n}var m=b.a.li(O()),v=b.a.h2(g()),w=b.a.p(x()),k=b.a.p(h()),C=b.a.img(j()),y=b.a.p(p()),S=function(n){var e=n.item,t=n.onCardClick;return Object(r.jsxs)(m,{children:[Object(r.jsx)(v,{children:e.title}),Object(r.jsxs)(w,{children:["\u20ac ",e.price]}),Object(r.jsx)(k,{children:e.description}),Object(r.jsx)(C,{src:e.image,alt:e.title,onClick:function(){t(e.id)}}),Object(r.jsx)(y,{children:e.category})]})};function z(){var n=Object(l.a)(["\n    width: 25%;\n    height: 50px;\n    border: 0;\n    padding: 0;\n    margin: 0;\n    background-color: black;\n    color: #fff;\n    font-size: 18px;\n    box-sizing: border-box;\n    border-radius: 5px;\n    cursor: pointer;\n\n    :hover {\n      opacity: .8;\n    }\n  "]);return z=function(){return n},n}function E(){var n=Object(l.a)(["\n    display: flex;\n    flex-direction: column;\n    padding: 50px 25%;\n    align-items: center;\n  "]);return E=function(){return n},n}var F=b.a.div(E()),P=b.a.button(z()),R=function(n){var e=n.item,t=n.handleClickBack,c=n.onCardClick;return Object(r.jsxs)(F,{children:[Object(r.jsx)(S,{item:e,onCardClick:c}),Object(r.jsx)(P,{onClick:t,children:"\u041d\u0430\u0437\u0430\u0434"})]})},J=i.a.createContext();function L(){var n=Object(l.a)(["\n  width: 25%;\n  height: 100%;\n  border: 0;\n  padding: 0;\n  margin: 0;\n  background-color: black;\n  color: #fff;\n  font-size: 18px;\n  box-sizing: border-box;\n  border-radius: 5px;\n  cursor: pointer;\n\n  :hover {\n    opacity: .8;\n  }\n"]);return L=function(){return n},n}function I(){var n=Object(l.a)(["\n  width: 73%;\n  height: 100%;\n  box-sizing: border-box;\n  border-radius: 5px;\n\n  :hover {\n    box-shadow: 0 0 2px 2px #eee;\n  }\n"]);return I=function(){return n},n}function N(){var n=Object(l.a)(["\n  display: flex;\n  justify-content: space-between;\n  margin: 40px auto;\n  width: 80%;\n  height: 50px;\n"]);return N=function(){return n},n}var T=b.a.form(N()),_=b.a.input(I()),B=b.a.button(L()),q=function(){var n=Object(c.useContext)(J),e=n.keyword,t=n.onSearch,i=n.onFieldChange;return Object(r.jsxs)(T,{onSubmit:function(n){n.preventDefault(),t(e)},noValidate:!0,children:[Object(r.jsx)(_,{value:e||"",onChange:i}),Object(r.jsx)(B,{children:"\u041f\u043e\u0438\u0441\u043a"})]})},D=t.p+"static/media/checked_icon.e3dc4edb.svg";function H(){var n=Object(l.a)(["\n  padding: 0;\n  margin: 0;\n  position: absolute; \n  top: 0;\n  left: -5000px;\n\n:before {\n  position: absolute;\n  top: 0;\n  left: 4960px;\n  display: block;\n  content: '';\n  width: 30px;\n  height: 30px;\n  border: 2px solid #000;\n  border-radius: 5px;\n  box-sizing: border-box;\n}\n\n:checked:before {\n  background-image: url(",");\n  background-size: cover;\n}\n"]);return H=function(){return n},n}function U(){var n=Object(l.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  height: 30px;\n  position: relative;\n  margin-left: 40px;  \n"]);return U=function(){return n},n}var M=b.a.label(U()),V=b.a.input(H(),D),A=function(n){var e=n.value,t=n.onCheck,c=e.includes(" ")?e.split(" ").join("-"):e;return Object(r.jsxs)(M,{htmlFor:c,children:[e.toUpperCase(),Object(r.jsx)(V,{id:c,type:"checkbox",onChange:t,name:e})]})};function G(){var n=Object(l.a)(["\n  display: flex;\n  justify-content: space-between;\n"]);return G=function(){return n},n}function K(){var n=Object(l.a)(["\n  padding: 0;\n  margin-top: 20px;\n  height: 5px;\n  -webkit-appearance: none;\n  border-radius: 5px;\n  outline : none;\n  border: 2px solid #000;\n\n  ::-webkit-slider-thumb{\n    -webkit-appearance: none;\n    width: 25px;\n    height: 25px;\n    background: #000;\n    border-radius: 50%;\n    cursor: pointer;\n    transition: all .3s;\n    opacity: .7;\n  }\n  \n  ::-webkit-slider-thumb:hover, ::-webkit-slider-thumb:active{\n    transform: scale(1.2);\n    opacity: .9;\n  }\n"]);return K=function(){return n},n}function Q(){var n=Object(l.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  position: relative;\n  margin: 20px 0;  \n"]);return Q=function(){return n},n}var W=b.a.label(Q()),X=b.a.input(K()),Y=b.a.div(G()),Z=function(n){var e=n.min,t=n.max,c=n.value,i=n.onChange,o="".concat("Price".toUpperCase(),": \u20ac ").concat(c?"".concat(e,"\u2014").concat(c):e);return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(W,{children:[o,Object(r.jsx)(X,{type:"range",min:e,max:t,step:"1",value:c,onChange:function(n){i(n)}})]}),Object(r.jsxs)(Y,{children:[Object(r.jsxs)("span",{children:["\u20ac ",e]}),Object(r.jsxs)("span",{children:["\u20ac ",t]})]})]})};function $(){var n=Object(l.a)(["\n  width: 100%;\n  height: 100%;\n  border: 2px solid #000;\n  padding: 0;\n  margin: 0;\n  background-color: #fff;\n  color: #000;\n  font-size: 14px;\n  box-sizing: border-box;\n  border-radius: 5px;\n  cursor: pointer;\n\n  :hover {\n    opacity: .8;\n  }\n"]);return $=function(){return n},n}function nn(){var n=Object(l.a)(["\n  display: flex;\n  gap: 10px;\n  width: 50%;\n  height: 40px;\n  margin: 20px auto;\n\n  @media (max-width: 680px) {\n    width: 100%;\n  }\n"]);return nn=function(){return n},n}var en=b.a.div(nn()),tn=b.a.button($()),rn=function(n){var e=n.onSort,t=function(n){n.preventDefault(),e(n)};return Object(r.jsxs)(en,{children:[Object(r.jsxs)(tn,{name:"up",onClick:t,children:["From low to high ","\u25b2"]}),Object(r.jsxs)(tn,{name:"down",onClick:t,children:["From high to low ","\u25bc"]})]})},cn=i.a.createContext();function on(){var n=Object(l.a)(["\n  display: flex;\n  justify-content: space-between;\n  border: none;\n  padding: 0;\n  margin: 0;\n\n  @media (max-width: 680px) {\n    flex-direction: column;\n    gap: 10px;\n  } \n"]);return on=function(){return n},n}function an(){var n=Object(l.a)(["\n  display: flex;\n  flex-direction: column;\n  margin: 0 auto;\n  width: 80%;\n"]);return an=function(){return n},n}var un=b.a.form(an()),sn=b.a.fieldset(on()),dn=function(){var n=Object(c.useContext)(cn),e=n.products,t=n.categories,i=n.onSort,o=n.onCheck,a=n.price,u=n.onRangeChange,s=e.map((function(n){return n.price})).sort((function(n,e){return n-e})),d=s[0],l=s[s.length-1];return Object(r.jsxs)(un,{children:[Object(r.jsx)(sn,{children:t.map((function(n,e){return Object(r.jsx)(A,{value:n,onCheck:o},e)}))}),Object(r.jsx)(Z,{min:d,max:l,value:a,onChange:u}),Object(r.jsx)(rn,{onSort:i})]})};function ln(){var n=Object(l.a)(["\n  width: 80%;\n  list-style: none;\n  padding: 0;\n  margin: 40px auto;\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(288px, 1fr));\n  gap: 40px;\n\n  @media (max-width: 680px) {\n    width: 90%;\n  }\n"]);return ln=function(){return n},n}function fn(){var n=Object(l.a)(["\n  display: flex;\n  flex-direction: column;\n"]);return fn=function(){return n},n}var bn=b.a.div(fn()),pn=b.a.ul(ln()),jn=function(n){var e=n.productsToRender,t=n.currentRow,c=n.onCardClick,i=e.slice(0,3*(t+1));return Object(r.jsxs)(bn,{children:[Object(r.jsx)(q,{}),Object(r.jsx)(dn,{}),Object(r.jsx)(pn,{children:i.map((function(n){return Object(r.jsx)(S,{item:n,onCardClick:c},n.id)}))})]})};function hn(){var n=Object(l.a)(["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  width: 70%;\n  height: 70%;\n  object-fit: scale-down;\n  margin: 0;\n"]);return hn=function(){return n},n}function xn(){var n=Object(l.a)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, .8);\n"]);return xn=function(){return n},n}var gn=b.a.div(xn()),On=b.a.img(hn()),mn=function(n){var e=n.url,t=n.isOpened,c=n.onClose;return Object(r.jsx)(r.Fragment,{children:t&&Object(r.jsx)(gn,{onClick:c,children:Object(r.jsx)(On,{src:e})})})},vn=t(27),wn=t(28),kn=new(function(){function n(e){Object(vn.a)(this,n),this._url=e}return Object(wn.a)(n,[{key:"_sendRequest",value:function(n,e){return fetch("".concat(this._url).concat(n)).then((function(n){return n.ok?n.json():Promise.reject(n.status)}))}},{key:"getProducts",value:function(){return this._sendRequest("products")}},{key:"getCurrentProduct",value:function(n){return this._sendRequest("products/".concat(n))}}]),n}())("https://fakestoreapi.com/");function Cn(){var n=Object(l.a)(["\n  display: flex;\n  flex-direction: column;\n  position: relative;\n  height: 100vh;\n"]);return Cn=function(){return n},n}var yn=b.a.div(Cn()),Sn=function(){var n=Object(c.useState)([]),e=Object(d.a)(n,2),t=e[0],i=e[1],o=Object(c.useState)([]),a=Object(d.a)(o,2),u=a[0],l=a[1],b=Object(c.useState)([]),p=Object(d.a)(b,2),j=p[0],h=p[1],x=Object(c.useState)([]),g=Object(d.a)(x,2),O=g[0],m=g[1],v=Object(c.useState)(0),w=Object(d.a)(v,2),k=w[0],C=w[1],y=Object(c.useState)(!1),S=Object(d.a)(y,2),z=S[0],E=S[1],F=Object(c.useState)(!1),P=Object(d.a)(F,2),L=P[0],I=P[1],N=Object(c.useState)(0),T=Object(d.a)(N,2),_=T[0],B=T[1],q=Object(c.useState)(""),D=Object(d.a)(q,2),H=D[0],U=D[1],M=Object(f.f)(),V=Object(s.a)(new Set(t.map((function(n){return n.category}))));Object(c.useEffect)((function(){var n=JSON.parse(localStorage.getItem("products"));if(n)return i(n),void l(n);kn.getProducts().then((function(n){i(n),l(n),localStorage.setItem("products",JSON.stringify(n))})).catch((function(n){return console.log(n)}))}),[]),Object(c.useEffect)((function(){return window.addEventListener("scroll",A),function(){return window.removeEventListener("scroll",A)}}),[]),Object(c.useEffect)((function(){L&&(B(_+1),I(!1))}),[L,_]),Object(c.useEffect)((function(){var n=JSON.parse(localStorage.getItem("currentProduct"));n&&h(n)}),[]);var A=function(){var n=document.documentElement&&document.documentElement.scrollTop||document.body.scrollTop,e=document.documentElement&&document.documentElement.scrollHeight||document.body.scrollHeight;n+window.innerHeight+50>=e&&I(!0)},G=function(n){var e=n.toLowerCase();if(n){var r=t.filter((function(n){return n.title.toLowerCase().includes(e)||n.description.toLowerCase().includes(e)||n.category.toLowerCase().includes(e)}));l(r)}};return Object(r.jsx)(J.Provider,{value:{keyword:H,onSearch:G,onFieldChange:function(n){U(n.target.value),G(n.target.value),!n.target.value&&l(t)}},children:Object(r.jsx)(cn.Provider,{value:{products:t,categories:V,onSort:function(n){"up"===n.target.name?l(u.map((function(n){return n})).sort((function(n,e){return n.price-e.price}))):l(u.map((function(n){return n})).sort((function(n,e){return e.price-n.price})))},onCheck:function(n){var e=n.target.checked,r=t.filter((function(e){return e.category===n.target.name}));if(e)O.length?(m([].concat(Object(s.a)(r),Object(s.a)(O))),l([].concat(Object(s.a)(r),Object(s.a)(O)))):(m(r),l(r));else{var c=O.filter((function(n){return!r.includes(n)}));JSON.stringify(O)===JSON.stringify(r)?(m([]),l(t)):(m(c),l(c))}},price:k,onRangeChange:function(n){var e=n.target.value;C(e),l(t.filter((function(n){return n.price<=e})).sort((function(n,e){return n.price-e.price})))}},children:Object(r.jsx)(yn,{children:Object(r.jsxs)(f.c,{children:[Object(r.jsx)(f.a,{exact:!0,path:"/",children:Object(r.jsx)(jn,{products:t,productsToRender:u,currentRow:_,onCardClick:function(n){var e=t.find((function(e){return e.id===n}));h(e),localStorage.setItem("currentProduct",JSON.stringify(e)),M.push("/products/".concat(n))}})}),Object(r.jsxs)(f.a,{path:"/products/:id",children:[Object(r.jsx)(R,{item:j,handleClickBack:function(){M.push("/")},onCardClick:function(n){E(!0)}}),Object(r.jsx)(mn,{url:j.image,isOpened:z,onClose:function(){E(!1)}})]})]})})})})},zn=function(n){n&&n instanceof Function&&t.e(3).then(t.bind(null,42)).then((function(e){var t=e.getCLS,r=e.getFID,c=e.getFCP,i=e.getLCP,o=e.getTTFB;t(n),r(n),c(n),i(n),o(n)}))};a.a.render(Object(r.jsx)(i.a.StrictMode,{children:Object(r.jsx)(u.a,{basename:"/store",children:Object(r.jsx)(Sn,{})})}),document.getElementById("root")),zn()}},[[41,1,2]]]);
//# sourceMappingURL=main.888c2404.chunk.js.map
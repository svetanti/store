{"version":3,"sources":["components/Item.js","components/CurrentProduct.js","contexts/SearchContext.js","components/SearchForm.js","components/images/checked_icon.svg","components/ui/Checkbox.js","components/ui/Range.js","components/ui/Sort.js","contexts/FilterContext.js","components/Filter.js","components/Products.js","components/ui/ImagePopup.js","utils/Api.js","components/App.js","reportWebVitals.js","index.js"],"names":["ListItem","styled","li","Title","h2","Price","p","Description","Image","img","Category","Item","item","onCardClick","title","price","description","src","image","alt","onClick","id","category","StyledProductCard","div","Button","button","CurrentProduct","handleClickBack","SearchContext","React","createContext","Form","form","Input","input","SearchForm","useContext","keyword","onSearch","onFieldChange","onSubmit","evt","preventDefault","noValidate","value","onChange","Label","label","imgPath","Checkbox","onCheck","includes","split","join","htmlFor","toUpperCase","type","name","MinMax","Range","min","max","step","Container","Sort","onSort","handleClick","FilterContext","Categories","fieldset","Filter","products","categories","onRangeChange","prices","map","sort","a","b","length","index","Containrer","ItemsGrid","ul","Products","productsToRender","currentRow","productsToShow","slice","Overlay","ImagePopup","url","isOpened","onClose","api","baseUrl","this","_url","path","parameters","fetch","then","res","ok","json","Promise","reject","status","_sendRequest","AppContainter","App","useState","setProducts","setProductsToRender","currentProduct","setCurrentProduct","selectedProducts","setSelectedProducts","setPrice","imagePopupOpened","setImagePopupOpened","isBottom","setIsBottom","setCurrentRow","setKeyword","history","useHistory","Set","useEffect","localStorageProducts","JSON","parse","localStorage","getItem","getProducts","setItem","stringify","catch","err","console","log","window","addEventListener","handleScroll","removeEventListener","selectedProduct","scrollTop","document","documentElement","body","scrollHeight","innerHeight","handleProductSearch","searchRequest","toLowerCase","result","filter","Provider","target","isChecked","checked","selected","filteredProducts","filteredPrice","exact","find","push","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.5f638f15.chunk.js","sourcesContent":["import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst ListItem = styled.li`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n`;\r\n\r\nconst Title = styled.h2`\r\n  width: 100%;\r\n  font-size: 14px;\r\n  margin: 0;\r\n  text-align: center;\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n`;\r\n\r\nconst Price = styled.p`\r\n  font-size: 20px;\r\n  margin: 10px 0;\r\n`;\r\n\r\nconst Description = styled.p`\r\n  width: 100%;\r\n  height: 88px;\r\n  display: block;\r\n  display: -webkit-box;\r\n  -webkit-line-clamp: 4;\r\n  -webkit-box-orient: vertical;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  margin: 0;\r\n`;\r\n\r\nconst Image = styled.img`\r\n  margin-top: 20px;\r\n  width: 100%;\r\n  height: 250px;\r\n  object-fit: scale-down;\r\n  cursor: pointer;\r\n`;\r\n\r\nconst Category = styled.p`\r\n  color: #666;\r\n  font-size: 12px;\r\n`;\r\n\r\nconst Item = ({ item, onCardClick }) => {\r\n  const handleClick = () => {\r\n    onCardClick(item.id);\r\n  }\r\n\r\n  return (\r\n    <ListItem >\r\n      <Title>{item.title}</Title>\r\n      <Price>&#8364; {item.price}</Price>\r\n      <Description>{item.description}</Description>\r\n      <Image\r\n        src={item.image}\r\n        alt={item.title}\r\n        onClick={handleClick} />\r\n      <Category>{item.category}</Category>\r\n    </ListItem>\r\n  )\r\n};\r\n\r\nexport default Item;","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport Item from './Item';\r\n\r\nconst StyledProductCard = styled.div`\r\n    display: flex;\r\n    flex-direction: column;\r\n    padding: 50px 25%;\r\n    align-items: center;\r\n  `;\r\n\r\nconst Button = styled.button`\r\n    width: 25%;\r\n    height: 50px;\r\n    border: 0;\r\n    padding: 0;\r\n    margin: 0;\r\n    background-color: black;\r\n    color: #fff;\r\n    font-size: 18px;\r\n    box-sizing: border-box;\r\n    border-radius: 5px;\r\n    cursor: pointer;\r\n\r\n    :hover {\r\n      opacity: .8;\r\n    }\r\n  `;\r\n\r\nconst CurrentProduct = ({ item, handleClickBack, onCardClick }) => {\r\n  return (\r\n    <StyledProductCard>\r\n      <Item\r\n        item={item}\r\n        onCardClick={onCardClick} />\r\n      <Button onClick={handleClickBack}>Назад</Button>\r\n    </StyledProductCard>\r\n  )\r\n};\r\n\r\nexport default CurrentProduct;\r\n","import React from 'react';\r\n\r\nexport const SearchContext = React.createContext();","import React, { useContext } from 'react';\r\nimport { SearchContext } from '../contexts/SearchContext';\r\nimport styled from 'styled-components';\r\n\r\nconst Form = styled.form`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  margin: 40px auto;\r\n  width: 80%;\r\n  height: 50px;\r\n`;\r\n\r\nconst Input = styled.input`\r\n  width: 73%;\r\n  height: 100%;\r\n  box-sizing: border-box;\r\n  border-radius: 5px;\r\n\r\n  :hover {\r\n    box-shadow: 0 0 2px 2px #eee;\r\n  }\r\n`;\r\n\r\nconst Button = styled.button`\r\n  width: 25%;\r\n  height: 100%;\r\n  border: 0;\r\n  padding: 0;\r\n  margin: 0;\r\n  background-color: black;\r\n  color: #fff;\r\n  font-size: 18px;\r\n  box-sizing: border-box;\r\n  border-radius: 5px;\r\n  cursor: pointer;\r\n\r\n  :hover {\r\n    opacity: .8;\r\n  }\r\n`;\r\n\r\nconst SearchForm = () => {\r\n  const { keyword, onSearch, onFieldChange } = useContext(SearchContext);\r\n\r\n  const handleSearch = (evt) => {\r\n    evt.preventDefault()\r\n    onSearch(keyword);\r\n  };\r\n\r\n  return (\r\n    <Form\r\n      onSubmit={handleSearch}\r\n      noValidate>\r\n      <Input\r\n        value={keyword || ''}\r\n        onChange={onFieldChange} />\r\n      <Button>Поиск</Button>\r\n    </Form >\r\n  )\r\n};\r\n\r\nexport default SearchForm;\r\n","export default __webpack_public_path__ + \"static/media/checked_icon.e3dc4edb.svg\";","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport imgPath from '../images/checked_icon.svg';\r\n\r\nconst Label = styled.label`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  height: 30px;\r\n  position: relative;\r\n  margin-left: 40px;  \r\n`;\r\n\r\nconst Input = styled.input`\r\n  padding: 0;\r\n  margin: 0;\r\n  position: absolute; \r\n  top: 0;\r\n  left: -5000px;\r\n\r\n:before {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 4960px;\r\n  display: block;\r\n  content: '';\r\n  width: 30px;\r\n  height: 30px;\r\n  border: 2px solid #000;\r\n  border-radius: 5px;\r\n  box-sizing: border-box;\r\n}\r\n\r\n:checked:before {\r\n  background-image: url(${imgPath});\r\n  background-size: cover;\r\n}\r\n`;\r\n\r\nconst Checkbox = ({ value, onCheck }) => {\r\n  const id = value.includes(' ') ? value.split(' ').join('-') : value;\r\n\r\n  return (\r\n    <Label htmlFor={id}>{value.toUpperCase()}\r\n      <Input\r\n        id={id}\r\n        type='checkbox'\r\n        onChange={onCheck}\r\n        name={value} />\r\n    </Label>\r\n  )\r\n};\r\n\r\nexport default Checkbox;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst Label = styled.label`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  position: relative;\r\n  margin: 20px 0;  \r\n`;\r\n\r\nconst Input = styled.input`\r\n  padding: 0;\r\n  margin-top: 20px;\r\n  height: 5px;\r\n  -webkit-appearance: none;\r\n  border-radius: 5px;\r\n  outline : none;\r\n  border: 2px solid #000;\r\n\r\n  ::-webkit-slider-thumb{\r\n    -webkit-appearance: none;\r\n    width: 25px;\r\n    height: 25px;\r\n    background: #000;\r\n    border-radius: 50%;\r\n    cursor: pointer;\r\n    transition: all .3s;\r\n    opacity: .7;\r\n  }\r\n  \r\n  ::-webkit-slider-thumb:hover, ::-webkit-slider-thumb:active{\r\n    transform: scale(1.2);\r\n    opacity: .9;\r\n  }\r\n`;\r\n\r\nconst MinMax = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n`;\r\n\r\n\r\nconst Range = ({ min, max, value, onChange }) => {\r\n  const price = `${'Price'.toUpperCase()}: \\u20ac ${!value ? min : `${min}\\u2014${value}`}`;\r\n\r\n  const handleChange = (evt) => {\r\n    onChange(evt);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Label>{price}\r\n        <Input\r\n          type='range'\r\n          min={min}\r\n          max={max}\r\n          step='1'\r\n          value={value}\r\n          onChange={handleChange}>\r\n        </Input>\r\n      </Label>\r\n      <MinMax>\r\n        <span>&#8364; {min}</span>\r\n        <span>&#8364; {max}</span>\r\n      </MinMax>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Range;","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  gap: 10px;\r\n  width: 50%;\r\n  height: 40px;\r\n  margin: 20px auto;\r\n\r\n  @media (max-width: 680px) {\r\n    width: 100%;\r\n  }\r\n`;\r\n\r\nconst Button = styled.button`\r\n  width: 100%;\r\n  height: 100%;\r\n  border: 2px solid #000;\r\n  padding: 0;\r\n  margin: 0;\r\n  background-color: #fff;\r\n  color: #000;\r\n  font-size: 14px;\r\n  box-sizing: border-box;\r\n  border-radius: 5px;\r\n  cursor: pointer;\r\n\r\n  :hover {\r\n    opacity: .8;\r\n  }\r\n`;\r\n\r\nconst Sort = ({ onSort }) => {\r\n\r\n  const handleClick = (evt) => {\r\n    evt.preventDefault();\r\n    onSort(evt);\r\n  }\r\n\r\n  return (\r\n    <Container>\r\n      <Button\r\n        name='up'\r\n        onClick={handleClick}>\r\n        From low to high {'\\u25b2'}</Button>\r\n      <Button\r\n        name='down'\r\n        onClick={handleClick}>\r\n        From high to low {'\\u25bc'}</Button>\r\n    </Container>\r\n  )\r\n};\r\n\r\nexport default Sort;\r\n","import React from 'react';\r\n\r\nexport const FilterContext = React.createContext();","import React, { useContext } from 'react';\r\nimport styled from 'styled-components';\r\nimport Checkbox from './ui/Checkbox';\r\nimport Range from './ui/Range';\r\nimport Sort from './ui/Sort';\r\nimport { FilterContext } from '../contexts/FilterContext';\r\n\r\nconst Form = styled.form`\r\n  display: flex;\r\n  flex-direction: column;\r\n  margin: 0 auto;\r\n  width: 80%;\r\n`;\r\n\r\nconst Categories = styled.fieldset`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  border: none;\r\n  padding: 0;\r\n  margin: 0;\r\n\r\n  @media (max-width: 680px) {\r\n    flex-direction: column;\r\n    gap: 10px;\r\n  } \r\n`;\r\n\r\nconst Filter = () => {\r\n  const { products, categories, onSort, onCheck, price, onRangeChange } = useContext(FilterContext);\r\n  const prices = products.map(item => item.price).sort((a, b) => a - b);\r\n  const min = prices[0];\r\n  const max = prices[prices.length - 1];\r\n\r\n  return (\r\n    <Form>\r\n      <Categories>\r\n        {categories.map((item, index) =>\r\n          <Checkbox\r\n            key={index}\r\n            value={item}\r\n            onCheck={onCheck} />\r\n        )}\r\n      </Categories>\r\n      <Range\r\n        min={min}\r\n        max={max}\r\n        value={price}\r\n        onChange={onRangeChange} />\r\n      <Sort\r\n        onSort={onSort} />\r\n    </Form>\r\n  )\r\n};\r\n\r\nexport default Filter;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport SearchForm from './SearchForm';\r\nimport Filter from './Filter';\r\nimport Item from './Item';\r\n\r\nconst Containrer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\n\r\n\r\nconst ItemsGrid = styled.ul`\r\n  width: 80%;\r\n  list-style: none;\r\n  padding: 0;\r\n  margin: 40px auto;\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fit, minmax(288px, 1fr));\r\n  gap: 40px;\r\n\r\n  @media (max-width: 680px) {\r\n    width: 90%;\r\n  }\r\n`;\r\n\r\nconst Products = ({ productsToRender, currentRow, onCardClick }) => {\r\n  const productsPerRow = 3;\r\n  const productsToShow = productsToRender.slice(0, (currentRow + 1) * productsPerRow);\r\n\r\n  return (\r\n    <Containrer>\r\n      <SearchForm />\r\n      <Filter />\r\n      <ItemsGrid>\r\n        {productsToShow.map((item) =>\r\n          <Item\r\n            key={item.id}\r\n            item={item}\r\n            onCardClick={onCardClick} />)}\r\n      </ItemsGrid>\r\n    </Containrer>\r\n  )\r\n};\r\n\r\nexport default Products;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst Overlay = styled.div`\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: rgba(0, 0, 0, .8);\r\n`;\r\n\r\nconst Image = styled.img`\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n  width: 70%;\r\n  height: 70%;\r\n  object-fit: scale-down;\r\n  margin: 0;\r\n`;\r\n\r\nconst ImagePopup = ({ url, isOpened, onClose }) => {\r\n  return (<>\r\n    {isOpened &&\r\n      (<Overlay onClick={onClose}>\r\n        <Image src={url} />\r\n      </Overlay>)}\r\n  </>)\r\n};\r\n\r\nexport default ImagePopup;\r\n","class Api {\r\n  constructor(baseUrl) {\r\n    this._url = baseUrl;\r\n  }\r\n\r\n  _sendRequest(path, parameters) {\r\n    return fetch(`${this._url}${path}`).then((res) => {\r\n      if (res.ok) {\r\n        return res.json();\r\n      }\r\n      return Promise.reject(res.status);\r\n    });\r\n  }\r\n\r\n  getProducts() {\r\n    return this._sendRequest(`products`);\r\n  }\r\n\r\n  getCurrentProduct(id) {\r\n    return this._sendRequest(`products/${id}`);\r\n  }\r\n}\r\n\r\nexport const api = new Api('https://fakestoreapi.com/');","import React, { useState, useEffect } from 'react';\nimport { Switch, Route, useHistory } from 'react-router-dom';\nimport styled from 'styled-components';\nimport CurrentProduct from './CurrentProduct';\nimport Products from './Products';\nimport ImagePopup from './ui/ImagePopup';\nimport { api } from '../utils/Api';\nimport { SearchContext } from '../contexts/SearchContext';\nimport { FilterContext } from '../contexts/FilterContext';\n\nconst AppContainter = styled.div`\n  display: flex;\n  flex-direction: column;\n  position: relative;\n  height: 100vh;\n`;\n\nconst App = () => {\n  const [products, setProducts] = useState([]);\n  const [productsToRender, setProductsToRender] = useState([]);\n  const [currentProduct, setCurrentProduct] = useState([]);\n  const [selectedProducts, setSelectedProducts] = useState([]);\n  const [price, setPrice] = useState(0);\n  const [imagePopupOpened, setImagePopupOpened] = useState(false);\n  const [isBottom, setIsBottom] = useState(false);\n  const [currentRow, setCurrentRow] = useState(0);\n  const [keyword, setKeyword] = useState('');\n\n  const history = useHistory();\n\n  const categories = [...new Set(products.map(item => item.category))];\n\n  useEffect(() => {\n    const localStorageProducts = JSON.parse(localStorage.getItem('products'));\n    if (localStorageProducts) {\n      setProducts(localStorageProducts);\n      setProductsToRender(localStorageProducts);\n      return;\n    }\n    api.getProducts()\n      .then(res => {\n        setProducts(res);\n        setProductsToRender(res);\n        localStorage.setItem('products', JSON.stringify(res));\n      })\n      .catch(err => console.log(err));\n  }, []);\n\n  useEffect(() => {\n    window.addEventListener('scroll', handleScroll);\n    return () => window.removeEventListener('scroll', handleScroll);\n  }, []);\n\n  useEffect(() => {\n    const addItems = () => {\n      setCurrentRow(currentRow + 1);\n      setIsBottom(false);\n    };\n    if (isBottom) {\n      addItems();\n    }\n  }, [isBottom, currentRow]);\n\n  useEffect(() => {\n    const selectedProduct = JSON.parse(localStorage.getItem('currentProduct'));\n    if (selectedProduct) setCurrentProduct(selectedProduct);\n  }, []);\n\n  const handleScroll = () => {\n    const scrollTop = (document.documentElement\n      && document.documentElement.scrollTop)\n      || document.body.scrollTop;\n    const scrollHeight = (document.documentElement\n      && document.documentElement.scrollHeight)\n      || document.body.scrollHeight;\n    if (scrollTop + window.innerHeight + 50 >= scrollHeight) {\n      setIsBottom(true);\n    }\n  };\n\n  const handleProductSearch = (value) => {\n    const searchRequest = value.toLowerCase();\n    if (!value) return;\n    const result = products.filter(item => {\n      return item.title.toLowerCase().includes(searchRequest)\n        || item.description.toLowerCase().includes(searchRequest)\n        || item.category.toLowerCase().includes(searchRequest);\n    });\n    setProductsToRender(result);\n  };\n\n  const handleFieldChange = (evt) => {\n    setKeyword(evt.target.value);\n    handleProductSearch(evt.target.value);\n    !evt.target.value && setProductsToRender(products);\n  };\n\n  const handleProductSelect = (id) => {\n    const selectedProduct = products.find(item => item.id === id);\n    setCurrentProduct(selectedProduct);\n    localStorage.setItem('currentProduct', JSON.stringify(selectedProduct));\n    history.push(`/products/${id}`);\n  };\n\n  const handleProductsClick = (id) => {\n    setImagePopupOpened(true);\n  };\n\n  const filterProductsByCategory = (evt) => {\n    const isChecked = evt.target.checked;\n    const selected = products.filter((item) => item.category === evt.target.name);\n    if (isChecked) {\n      if (!selectedProducts.length) {\n        setSelectedProducts(selected);\n        setProductsToRender(selected);\n      }\n      else {\n        setSelectedProducts([...selected, ...selectedProducts]);\n        setProductsToRender([...selected, ...selectedProducts]);\n      }\n    }\n    else {\n      const filteredProducts = selectedProducts.filter((item) => !selected.includes(item));\n      if (JSON.stringify(selectedProducts) === JSON.stringify(selected)) {\n        setSelectedProducts([]);\n        setProductsToRender(products);\n      }\n      else {\n        setSelectedProducts(filteredProducts);\n        setProductsToRender(filteredProducts);\n      }\n    }\n  };\n\n  const handleClickBack = () => {\n    history.push('/');\n  };\n\n  const filterProductsByPrice = (evt) => {\n    const filteredPrice = evt.target.value;\n    setPrice(filteredPrice);\n    setProductsToRender(products.filter((item) => item.price <= filteredPrice).sort((a, b) => a.price - b.price));\n  };\n\n  const sortProducts = (evt) => {\n    evt.target.name === 'up'\n      ? setProductsToRender(productsToRender.map(item => item).sort((a, b) => a.price - b.price))\n      : setProductsToRender(productsToRender.map(item => item).sort((a, b) => b.price - a.price));\n  };\n\n  const closeImapePopup = () => {\n    setImagePopupOpened(false);\n  };\n\n  return (\n    <SearchContext.Provider value={{\n      keyword,\n      onSearch: handleProductSearch,\n      onFieldChange: handleFieldChange\n    }}>\n      <FilterContext.Provider value={{\n        products,\n        categories,\n        onSort: sortProducts,\n        onCheck: filterProductsByCategory,\n        price,\n        onRangeChange: filterProductsByPrice\n      }}>\n        <AppContainter>\n          <Switch>\n            <Route exact path='/'>\n              <Products\n                products={products}\n                productsToRender={productsToRender}\n                currentRow={currentRow}\n                onCardClick={handleProductSelect} />\n            </Route>\n            <Route path='/products/:id'>\n              <CurrentProduct\n                item={currentProduct}\n                handleClickBack={handleClickBack}\n                onCardClick={handleProductsClick} />\n              <ImagePopup\n                url={currentProduct.image}\n                isOpened={imagePopupOpened}\n                onClose={closeImapePopup} />\n            </Route>\n          </Switch>\n        </AppContainter>\n      </FilterContext.Provider>\n    </SearchContext.Provider >\n  );\n};\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}